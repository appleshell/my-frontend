---
title： React技术揭秘学习
---

不管学习react的源码还是vue的源码，我认为一定要先理解MVC和MVVM两种架构模式。

## 理念篇

### React理念

1. CPU瓶颈，计算量过大导致页面掉帧。

  - 浏览器的GUI渲染线程和JS线程是互斥的，在一个渲染周期内，js执行事件过长（例如大量组件需要生成），导致没有足够时间执行布局、绘制，从而出现掉帧
  - 解决问题的办法是**时间切片**（time slice），将js的长任务切分到每一帧中。源码中，每一帧中js的可执行时间是5ms。

2. IO瓶颈，网络延迟导致需要等到数据返回后才能进行后续操作

  - React的解决方案是实现了`Suspense`以及配套的hook，`useDeferredValue`。

3. 总结，解决CPU瓶颈和IO瓶颈的方法是：将同步的更新变为可中断的异步更新。
